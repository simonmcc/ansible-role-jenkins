import jenkins.model.*
import hudson.security.*
import org.jenkinsci.plugins.*

String server = 'ldaps://hpe-pro-ods-ed.infra.hpecorp.net'
String rootDN = 'o=hp.com'
String userSearchBase = 'ou=people'
String userSearch = 'uid={0}'
String groupSearchBase = 'ou=groups'
String managerDN = ''
String managerPassword = ''
boolean inhibitInferRootDN = false
    
SecurityRealm ldap_realm = new LDAPSecurityRealm(server, rootDN, userSearchBase, userSearch, groupSearchBase, managerDN, managerPassword, inhibitInferRootDN) 
Jenkins.instance.setSecurityRealm(ldap_realm)
Jenkins.instance.save()
